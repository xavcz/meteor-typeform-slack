<template name="dashboard">
  <h1 class="text-center">
    Auto-invite new members to your community
  </h1>
  <div class="row">
    <div class="col-md-6">
      <div>
        <img src="typeform.png" class="logo" alt="typeform" />
      </div>
      <div class="jumbotron text-center">
        <form class="connectTypeform">
          <div class="form-group">
            <label for="uid">Form UID</label>
            <input type="text" name="uid" />
            {{#each error in errors "uid"}}
              <div class="form-error">{{error}}</div>
            {{/each}}
          </div>

          <div class="form-group">
            <label for="key">API Key</label>
            <input type="text" name="key" />
            {{#each error in errors "key"}}
              <div class="form-error">{{error}}</div>
            {{/each}}
          </div>

          <input type="submit" class="btn btn-default" value="Test the connection" />
        </form>
        {{#if appConnected "typeform"}}
          <div class="alert alert-success">
            Typeform connected! Hooray!
          </div>
        {{else}}
          <div class="alert alert-warning">
            Typeform not yet connected...
          </div>
        {{/if}}
      </div>
    </div>
    <div class="col-md-6">
      <div>
        <img src="slack.png" class="logo" alt="slack" />
      </div>
      <div class="jumbotron text-center">
        <form class="connectSlack">
          <div class="form-group">
            <label for="team">Team url</label>
            <input type="text" name="team" placeholder="http://your-team.slack.com" />
            {{#each error in errors "team"}}
              <div class="form-error">{{error}}</div>
            {{/each}}
          </div>

          <div class="form-group">
            <label for="token">Admin token</label>
            <input type="text" name="token" placeholder="xoxp-1234-5678" />
            {{#each error in errors "token"}}
              <div class="form-error">{{error}}</div>
            {{/each}}
          </div>
          <input type="submit" class="btn btn-default" value="Test the connection" />
        </form>
        {{#if appConnected "slack"}}
          <div class="alert alert-success">
            Slack connected! Hooray!
            Response:
          </div>
        {{else}}
          <div class="alert alert-warning">
            Slack not yet connected...
          </div>
        {{/if}}
      </div>
    </div>
  </div>
  <div class="row">
    {{#if (and (appConnected "typeform") (appConnected "slack"))}}
      <div class="jumbotron text-center">
        <h1>Ready to connect both apps!</h1>
        <p>Enter you email address to establish connection.</p>
        <form class="storeCredentials">
          <div class="form-group">
            <label for="email">Email address</label>
            <input type="email" name="email" />
            {{#each error in errors "email"}}
              <div class="form-error">{{error}}</div>
            {{/each}}
          </div>
          <input type="submit" class="btn btn-default" value="Store credentials" />
        </form>
      </div>
    {{/if}}
  </div>
</template>